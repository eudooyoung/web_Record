<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>게시글 목록</title>
</head>

<body>
    <h1>게시글 목록</h1>
    <button onclick="location.href='http://127.0.0.1:5500/d_board/board_regist.html'">게시글 등록</button>

    <ul id="postList"></ul>
    <script>
        localStorage.setItem('currentUserId', '1');
        function loadPosts() {
            fetch('http://localhost:3000/posts')
                .then(response => response.json())
                .then(posts => {
                    const postList = document.getElementById('postList');
                    postList.innerHTML = '';
                    posts.forEach(post => {
                        const li = document.createElement('li');
                        li.innerHTML = `<a href="http://127.0.0.1:5500/d_board/board_detail.html?id=${post.id}">${post.title}</a>`;
                        postList.appendChild(li);
                    });
                })
                .catch(error => console.error("게시글 로드 실패:", error));
        }
        loadPosts();


    </script>
</body>

</html>



<!-- json 이 존재하는 폴더에서 json-server --watch page28_board_db.json -->
<!--json 이 존재하는 폴더에서  json-server --watch page28_board_db.json  -->